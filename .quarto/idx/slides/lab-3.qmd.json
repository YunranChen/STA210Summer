{"title":"Lab 3 - Coffee ratings","markdown":{"yaml":{"title":"Lab 3 - Coffee ratings","subtitle":"STA 210 - Spring 2022","footer":"[sta210-s22.github.io/website](https://sta210-s22.github.io/website/)","logo":"images/logo.png","editor":"visual","format":{"revealjs":{"theme":"slides.scss","transition":"fade","slide-number":true}},"execute":{"freeze":"auto"}},"headingText":"| include: false","containsRefs":false,"markdown":"\n\n```{r setup}\n\nlibrary(countdown)\n```\n\n# Welcome\n\n## Goals\n\n-   Meet your team!\n-   Ice breaker / get to know your team\n-   Team agreement\n-   Lab 3 - Coffee ratings\n\n## Meet your team!\n\n-   [**Click here**](https://github.com/sta210-s22/teams/blob/master/teams.csv) to find your team.\n\n-   Sit with your team.\n\n## Icebreaker\n\n-   Quick introductions: Name and hometown\n\n-   Choose a reporter: The person whose birthday is closest to January 31\n\n-   Identify 8 things everyone in the group has in common:\n\n    -   Not clothes, e.g., we're all wearing shoes!\n    -   Not body parts, e.g., we all have a nose!\n\n```{r}\ncountdown(minutes = 5, font_size = \"2em\")\n```\n\n## Team name + agreement\n\n-   Come up with a team name.\n    You can't have the same name as another group in the class, so be creative!\n\n    -   Your TA will get your team name by the end of lab.\n\n-   Fill out the team agreement.\n    The goals of the agreement are to...\n\n    -   Gain a common understanding of the team's goals and expectations for collaboration\n    -   Make a plan for team communication\n    -   Make a plan for working outside of lab\n\n## Team workflow\n\n-   Only one team member should type at a time.\n    There are markers in today's lab to help you determine whose turn it is to type.\n\n    -   Every team member should still be engaged in discussion for all questions, even if it's not your turn type.\n\n-   Don't forget to **pull** to get your teammates' updates before making changes to the `.qmd` file.\n\n-   Only **one** submission for the team on Gradescope.\n\n## Team workflow, in action\n\n-   Complete the \"Workflow: Using Git and GitHub as a team\" section of the lab in your teams.\n-   When done, pause and wait for your TA to walk you through the rest of the slides before continuing to the following section.\n\n```{r}\ncountdown(minutes = 10, font_size = \"2em\")\n```\n\n## Tips for working in a team\n\n-   Do not pressure each other to finish early; use the time wisely to really learn the material and produce a quality report.\n-   The labs are structured to help you learn the steps of a data analysis. Do not split up the lab among the team members; work on it together in its entirety.\n-   Everyone has something to contribute! Use the lab groups as an opportunity to share ideas and learn from each other.\n\n# Model diagnostics\n\n## The data\n\n```{r}\nlibrary(tidyverse)\nlibrary(tidymodels)\n\ndf <- tibble(\n  x = seq(1:100),\n  y = 2*x + 20 + rnorm(100, sd = 10)\n)\n\np_data <- ggplot(df, aes(x = x, y = y)) +\n  geom_point() +\n  geom_smooth(method = \"lm\", se = FALSE, color = \"#8F2D56\") +\n  coord_cartesian(xlim = c(0, 200), ylim = c(0, 500))\n\np_data\n```\n\n## The data + an outlier\n\n```{r}\ndf2 <- df %>%\n  mutate(type = \"data\") %>%\n  bind_rows(tibble(x = 40, y = 500, type = \"outlier\"))\n\np_outlier <- ggplot(df2, aes(x = x, y = y, color = type)) +\n  geom_point(show.legend = FALSE) +\n  geom_smooth(method = \"lm\", se = FALSE, color = \"#8F2D56\") +\n  geom_smooth(data = df, method = \"lm\", se = FALSE, color = \"#8F2D5630\") +\n  scale_color_manual(values = c(\"black\", \"magenta\")) +\n  coord_cartesian(xlim = c(0, 200), ylim = c(0, 500)) +\n  annotate(\"point\", x = 40, y = 500, size = 3, color = \"magenta\", shape = \"circle open\")\n\np_outlier\n```\n\n## The data + influential point\n\n```{r}\ndf3 <- df %>%\n  mutate(type = \"data\") %>%\n  bind_rows(tibble(x = 200, y = 5, type = \"influential\"))\n\np_influential <- ggplot(df3, aes(x = x, y = y, color = type)) +\n  geom_point(show.legend = FALSE) +\n  geom_smooth(method = \"lm\", se = FALSE, color = \"#8F2D56\") +\n  geom_smooth(data = df, method = \"lm\", se = FALSE, color = \"#8F2D5630\") +\n  scale_color_manual(values = c(\"black\", \"magenta\")) +\n  coord_cartesian(xlim = c(0, 200), ylim = c(0, 500)) +\n  annotate(\"point\", x = 200, y = 5, size = 3, color = \"magenta\", shape = \"circle open\")\n\np_influential\n```\n\n## Influential point\n\nAn observation is **influential** if removing it substantially changes the coefficients of the regression model.\n\n::: columns\n::: {.column width=\"50%\"}\n```{r}\n#| out.width: \"100%\"\n\np_data\n```\n:::\n\n::: {.column width=\"50%\"}\n```{r}\n#| out.width: \"100%\"\n\np_influential\n```\n:::\n:::\n\n## Influential points\n\n-   Influential points have a large impact on the coefficients and standard errors used for inference\n\n-   These points can sometimes be identified in a scatterplot if there is only one predictor variable, this is often not the case when there are multiple predictors\n\n-   We will use measures to quantify an individual observation's influence on the regression model: **leverage**, **standardized residuals**, and **Cook's distance**\n\n## Remember `augment()`?\n\n```{r}\n#| echo: true\n\nmtcars_fit <- linear_reg() %>%\n  set_engine(\"lm\") %>%\n  fit(mpg ~ disp, data = mtcars)\n\naugment(mtcars_fit$fit)\n```\n\n## Model diagnostics {.smaller}\n\nUse the `augment()` function to output statistics that can be used to diagnose the model, along with the predicted values and residuals:\n\n::: nonincremental\n-   outcome and predictor variables in the model\n-   **`.fitted`**: predicted values\n-   **`.se.fit`**: standard errors of predicted values\n-   **`.resid`**: residuals\n-   **`.hat`**: leverage\n-   **`.sigma`**: estimate of residual standard deviation when the corresponding observation is dropped from model\n-   **`.cooksd`**: Cook's distance\n-   **`.std.resid`**: standardized residuals\n:::\n"},"formats":{"revealjs":{"execute":{"fig-width":10,"fig-height":5,"fig-format":"retina","fig-dpi":96,"error":false,"eval":true,"cache":null,"freeze":"auto","echo":false,"output":true,"warning":false,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"knitr"},"render":{"keep-tex":false,"keep-yaml":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":true,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","html-math-method":{"method":"mathjax","url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML-full"},"slide-level":2,"to":"revealjs","output-file":"lab-3.html"},"language":{},"metadata":{"lang":"en","fig-responsive":false,"quarto-version":"0.9.345","auto-stretch":true,"editor":"visual","title":"Lab 3 - Coffee ratings","subtitle":"STA 210 - Spring 2022","footer":"[sta210-s22.github.io/website](https://sta210-s22.github.io/website/)","logo":"images/logo.png","theme":"slides.scss","transition":"fade","slideNumber":true}}}}